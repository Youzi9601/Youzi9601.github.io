import{d as Q,n as G,u as K,r as k,e as Z,w as ee,o as h,c as v,a as u,b as y,t as g,f as V,v as E,F as x,g as T,h as C,i as te,j as ae,s as ne,k as q,l as Y,m as L,p as z,R as U}from"./index-C9iZMACS.js";import{i as re,c as F}from"./image-url.umd-Bk9Aktmc.js";function j(e){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(e)}function M(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function b(e){M(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||j(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var oe={};function ie(){return oe}function $(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function I(e,t){M(2,arguments);var a=b(e),n=b(t),o=a.getTime()-n.getTime();return o<0?-1:o>0?1:o}function se(e,t){M(2,arguments);var a=b(e),n=b(t),o=a.getFullYear()-n.getFullYear(),d=a.getMonth()-n.getMonth();return o*12+d}function ue(e,t){return M(2,arguments),b(e).getTime()-b(t).getTime()}var H={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},le="trunc";function de(e){return e?H[e]:H[le]}function ce(e){M(1,arguments);var t=b(e);return t.setHours(23,59,59,999),t}function me(e){M(1,arguments);var t=b(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function fe(e){M(1,arguments);var t=b(e);return ce(t).getTime()===me(t).getTime()}function he(e,t){M(2,arguments);var a=b(e),n=b(t),o=I(a,n),d=Math.abs(se(a,n)),r;if(d<1)r=0;else{a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-o*d);var l=I(a,n)===-o;fe(b(e))&&d===1&&I(e,n)===1&&(l=!1),r=o*(d-Number(l))}return r===0?0:r}function ve(e,t,a){M(2,arguments);var n=ue(e,t)/1e3;return de(void 0)(n)}var ge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},be=function(t,a,n){var o,d=ge[t];return typeof d=="string"?o=d:a===1?o=d.one:o=d.other.replace("{{count}}",a.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function O(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=t.width?String(t.width):e.defaultWidth,n=e.formats[a]||e.formats[e.defaultWidth];return n}}var ye={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},we={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Me={date:O({formats:ye,defaultWidth:"full"}),time:O({formats:pe,defaultWidth:"full"}),dateTime:O({formats:we,defaultWidth:"full"})},_e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},De=function(t,a,n,o){return _e[t]};function W(e){return function(t,a){var n=a!=null&&a.context?String(a.context):"standalone",o;if(n==="formatting"&&e.formattingValues){var d=e.defaultFormattingWidth||e.defaultWidth,r=a!=null&&a.width?String(a.width):d;o=e.formattingValues[r]||e.formattingValues[d]}else{var l=e.defaultWidth,s=a!=null&&a.width?String(a.width):e.defaultWidth;o=e.values[s]||e.values[l]}var m=e.argumentCallback?e.argumentCallback(t):t;return o[m]}}var Pe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Se={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ke={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Te={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},We={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ne=function(t,a){var n=Number(t),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ce={ordinalNumber:Ne,era:W({values:Pe,defaultWidth:"wide"}),quarter:W({values:Se,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:W({values:ke,defaultWidth:"wide"}),day:W({values:xe,defaultWidth:"wide"}),dayPeriod:W({values:Te,defaultWidth:"wide",formattingValues:We,defaultFormattingWidth:"wide"})};function N(e){return function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=a.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],d=t.match(o);if(!d)return null;var r=d[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],s=Array.isArray(l)?Ie(l,function(w){return w.test(r)}):Fe(l,function(w){return w.test(r)}),m;m=e.valueCallback?e.valueCallback(s):s,m=a.valueCallback?a.valueCallback(m):m;var p=t.slice(r.length);return{value:m,rest:p}}}function Fe(e,t){for(var a in e)if(e.hasOwnProperty(a)&&t(e[a]))return a}function Ie(e,t){for(var a=0;a<e.length;a++)if(t(e[a]))return a}function Ae(e){return function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var o=n[0],d=t.match(e.parsePattern);if(!d)return null;var r=e.valueCallback?e.valueCallback(d[0]):d[0];r=a.valueCallback?a.valueCallback(r):r;var l=t.slice(o.length);return{value:r,rest:l}}}var Oe=/^(\d+)(th|st|nd|rd)?/i,Re=/\d+/i,Xe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},je={any:[/^b/i,/^(a|c)/i]},Ve={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ee={any:[/1/i,/2/i,/3/i,/4/i]},qe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Le={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ze={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},He={ordinalNumber:Ae({matchPattern:Oe,parsePattern:Re,valueCallback:function(t){return parseInt(t,10)}}),era:N({matchPatterns:Xe,defaultMatchWidth:"wide",parsePatterns:je,defaultParseWidth:"any"}),quarter:N({matchPatterns:Ve,defaultMatchWidth:"wide",parsePatterns:Ee,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:N({matchPatterns:qe,defaultMatchWidth:"wide",parsePatterns:Ye,defaultParseWidth:"any"}),day:N({matchPatterns:Le,defaultMatchWidth:"wide",parsePatterns:ze,defaultParseWidth:"any"}),dayPeriod:N({matchPatterns:Ue,defaultMatchWidth:"any",parsePatterns:$e,defaultParseWidth:"any"})},Je={code:"en-US",formatDistance:be,formatLong:Me,formatRelative:De,localize:Ce,match:He,options:{weekStartsOn:0,firstWeekContainsDate:1}};function B(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}function Be(e){return B({},e)}var J=1440,Qe=2520,R=43200,Ge=86400;function Ke(e,t,a){var n,o;M(2,arguments);var d=ie(),r=(n=(o=a==null?void 0:a.locale)!==null&&o!==void 0?o:d.locale)!==null&&n!==void 0?n:Je;if(!r.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=I(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var s=B(Be(a),{addSuffix:!!(a!=null&&a.addSuffix),comparison:l}),m,p;l>0?(m=b(t),p=b(e)):(m=b(e),p=b(t));var w=ve(p,m),A=($(p)-$(m))/1e3,f=Math.round((w-A)/60),S;if(f<2)return a!=null&&a.includeSeconds?w<5?r.formatDistance("lessThanXSeconds",5,s):w<10?r.formatDistance("lessThanXSeconds",10,s):w<20?r.formatDistance("lessThanXSeconds",20,s):w<40?r.formatDistance("halfAMinute",0,s):w<60?r.formatDistance("lessThanXMinutes",1,s):r.formatDistance("xMinutes",1,s):f===0?r.formatDistance("lessThanXMinutes",1,s):r.formatDistance("xMinutes",f,s);if(f<45)return r.formatDistance("xMinutes",f,s);if(f<90)return r.formatDistance("aboutXHours",1,s);if(f<J){var _=Math.round(f/60);return r.formatDistance("aboutXHours",_,s)}else{if(f<Qe)return r.formatDistance("xDays",1,s);if(f<R){var c=Math.round(f/J);return r.formatDistance("xDays",c,s)}else if(f<Ge)return S=Math.round(f/R),r.formatDistance("aboutXMonths",S,s)}if(S=he(p,m),S<12){var i=Math.round(f/R);return r.formatDistance("xMonths",i,s)}else{var D=S%12,P=Math.floor(S/12);return D<3?r.formatDistance("aboutXYears",P,s):D<9?r.formatDistance("overXYears",P,s):r.formatDistance("almostXYears",P+1,s)}}function Ze(e,t){return M(1,arguments),Ke(e,Date.now(),t)}const et={"data-bs-spy":"scroll","data-bs-target":"#home-nav","data-bs-smooth-scroll":"true",tabindex:"0",class:"min-vh-100"},tt={class:"container-xxl mb-5 px-lg-5 px-4 mt-5"},at=["id"],nt={class:"display-5 mb-3 fw-semibold lh-sm"},rt={class:"mb-4"},ot={for:"categoryFilter",class:"form-label"},it={value:null},st=["value"],ut={class:"mb-4"},lt={for:"authorFilter",class:"form-label"},dt={value:null},ct=["value"],mt={key:0},ft={key:1,class:"list-unstyled"},ht={class:"card mb-3"},vt={class:"row g-0"},gt={class:"card-body"},bt={class:"card-title"},yt={class:"card-text d-flex align-items-center"},pt=["src"],wt={class:"card-text"},Mt={key:0,class:"col-md-4 d-flex"},_t=["src"],Dt={class:"flex-grow-1"},Pt={class:""},St={key:2},kt={class:"pagination justify-content-center"},xt=["disabled"],Tt=["disabled"],Wt={key:3,class:"align-items-center text-center"},X=50,Ft=Q({__name:"BlogView",setup(e){G.value=[{href:"/",name:"blog.nav.home"},{href:"/about",name:"blog.nav.about"},{href:"/contact",name:"blog.nav.contact"}];const{t}=K(),a=te(),n=ae(),o=k([]),d=k([]),r=k(!0),l=k(Number(a.params.pages)||1),s=k(a.query.category||null),m=k(a.query.author||null),p=k(1),w=k([]),A=re(F),f=_=>A.image(_).width(240).url(),S=async _=>{const c=(_-1)*X,i=c+X;let D='*[_type == "post"';s.value&&(D+=` && "${s.value}" in categories[]->title`),m.value&&(D+=` && author->name == "${m.value}"`),D+=`] | order(_createdAt desc) {
    _id,
    title,
    _createdAt,
    mainImage,
    "authorName": author->name,
    "authorImage": author->image,
    "categoryNames": categories[]->title,
    "slug": slug.current
  }[${c}...${i}]`;try{const P=await F.fetch(D);w.value=P,p.value=Math.ceil(((P==null?void 0:P.length)||0)/X)}catch(P){console.error("Error fetching data:",P)}finally{r.value=!1}};return Z(async()=>{await S(l.value);const _=await F.fetch('*[_type == "category"]{title, _id}');o.value=_;const c=await F.fetch('*[_type == "author"]{name, image}');d.value=c}),ee([s,m,()=>a.params.pages],async([_,c,i])=>{l.value=Number(i)||1,await S(l.value),n.push({query:{category:_||void 0,author:c||void 0,pages:l.value!==1?l.value:void 0}})}),(_,c)=>(h(),v("div",et,[u("div",tt,[u("section",{id:y(ne).blog,class:""},[u("h2",nt,g(y(t)("blog.title")),1),u("div",rt,[u("label",ot,g(y(t)("blog.filter.category")),1),V(u("select",{id:"categoryFilter",class:"form-select","onUpdate:modelValue":c[0]||(c[0]=i=>s.value=i)},[u("option",it,g(y(t)("blog.filter.allCategories")),1),(h(!0),v(x,null,T(o.value,i=>(h(),v("option",{key:i._id,value:i.title},g(i.title),9,st))),128))],512),[[E,s.value]])]),u("div",ut,[u("label",lt,g(y(t)("blog.filter.author")),1),V(u("select",{id:"authorFilter",class:"form-select","onUpdate:modelValue":c[1]||(c[1]=i=>m.value=i)},[u("option",dt,g(y(t)("blog.filter.allAuthors")),1),(h(!0),v(x,null,T(d.value,i=>(h(),v("option",{key:i.name,value:i.name},g(i.name),9,ct))),128))],512),[[E,m.value]])]),r.value?(h(),v("div",mt,g(y(t)("blog.loading")),1)):(h(),v("ul",ft,[(h(!0),v(x,null,T(w.value,i=>(h(),v("li",{key:i._id,class:"mb-4"},[u("div",ht,[u("div",vt,[u("div",{class:C(i.mainImage?"col-md-8":"col-md-12")},[u("div",gt,[u("h5",bt,g(i.title),1),u("p",yt,[i.authorImage?(h(),v("img",{key:0,src:f(i.authorImage.asset._ref),class:"rounded-circle me-2",alt:"Author Image",style:{width:"20px",height:"20px"}},null,8,pt)):q("",!0),Y(" "+g(i.authorName),1)]),u("p",wt,[(h(!0),v(x,null,T(i.categoryNames,D=>(h(),v("span",{key:D,class:"badge bg-secondary me-1"},g(D),1))),128))]),c[4]||(c[4]=u("p",{class:"card-text"},null,-1))])],2),i.mainImage?(h(),v("div",Mt,[c[5]||(c[5]=u("div",{class:"ms-auto flex-grow-1"},null,-1)),u("img",{src:f(i.mainImage.asset._ref),class:"img-fluid rounded-end",alt:"..."},null,8,_t)])):q("",!0),L(y(U),{to:`/blog/post/${i.slug}`,class:"card-footer text-body-secondary card-link d-flex link-offset-2 link-underline link-underline-opacity-0"},{default:z(()=>[u("div",Dt,g(y(t)("blog.readMore")),1),u("div",null,[u("small",Pt,g(y(Ze)(new Date(i._createdAt),{addSuffix:!0})),1)])]),_:2},1032,["to"])])])]))),128))])),p.value>1?(h(),v("nav",St,[u("ul",kt,[u("li",{class:C(["page-item",{disabled:l.value===1}])},[u("button",{class:"page-link",onClick:c[2]||(c[2]=i=>l.value--),disabled:l.value===1},g(y(t)("blog.previousPage")),9,xt)],2),(h(!0),v(x,null,T(p.value,i=>(h(),v("li",{class:C(["page-item",{active:l.value===i}]),key:i},[L(y(U),{class:"page-link",to:{path:`/blog/${i}`,query:{category:s.value||void 0,author:m.value||void 0}}},{default:z(()=>[Y(g(i),1)]),_:2},1032,["to"])],2))),128)),u("li",{class:C(["page-item",{disabled:l.value===p.value}])},[u("button",{class:"page-link",onClick:c[3]||(c[3]=i=>l.value++),disabled:l.value===p.value},g(y(t)("blog.nextPage")),9,Tt)],2)])])):(h(),v("div",Wt,[u("span",null,g(y(t)("blog.endOfList")),1)]))],8,at)])]))}});export{Ft as default};
