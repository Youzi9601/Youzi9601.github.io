import{d as S,r as w,u as k,f as B,c as u,a as r,t as p,b as o,F as A,g as v,o as m,h as I,_ as C}from"./index-Bt7dIhfR.js";const F={name:"Homepage",description:"This is the homepage of the site.",url:"https://www.Youzi.cloudns.ch",data:[{timestamp:"2025-01-21T10:30:26.050Z",status:"up",location:"IAH",responseTime:697},{timestamp:"2025-01-21T10:40:23.035Z",status:"up",location:"IAH",responseTime:506},{timestamp:"2025-01-21T10:50:22.936Z",status:"up",location:"IAH",responseTime:407},{timestamp:"2025-01-21T11:00:26.464Z",status:"up",location:"IAH",responseTime:378},{timestamp:"2025-01-21T11:10:22.629Z",status:"up",location:"IAH",responseTime:386},{timestamp:"2025-01-21T11:20:23.217Z",status:"up",location:"IAH",responseTime:388},{timestamp:"2025-01-21T11:30:24.968Z",status:"up",location:"IAH",responseTime:532},{timestamp:"2025-01-21T11:40:23.045Z",status:"up",location:"IAH",responseTime:403},{timestamp:"2025-01-21T11:40:23.045Z",status:"up",location:"IAH",responseTime:403}],lastUpdate:{timestamp:"2025-01-21T11:40:23.045Z",status:"up",location:"IAH",responseTime:403}},j={homepage:F,"discord-bot-dashboard":{name:"Discord Bot Dashboard",description:"This is the dashboard of the Discord bot.",url:"https://bot.Youzi.cloudns.ch",data:[{timestamp:"2025-01-21T10:30:26.580Z",status:"down",location:"IAH",responseTime:364},{timestamp:"2025-01-21T10:40:23.291Z",status:"down",location:"IAH",responseTime:80},{timestamp:"2025-01-21T10:50:23.197Z",status:"down",location:"IAH",responseTime:55},{timestamp:"2025-01-21T11:00:26.702Z",status:"down",location:"IAH",responseTime:47},{timestamp:"2025-01-21T11:10:22.866Z",status:"down",location:"IAH",responseTime:46},{timestamp:"2025-01-21T11:20:23.425Z",status:"down",location:"IAH",responseTime:19},{timestamp:"2025-01-21T11:30:25.196Z",status:"down",location:"IAH",responseTime:27},{timestamp:"2025-01-21T11:40:23.448Z",status:"down",location:"IAH",responseTime:221},{timestamp:"2025-01-21T11:40:23.448Z",status:"down",location:"IAH",responseTime:221}],lastUpdate:{timestamp:"2025-01-21T11:40:23.448Z",status:"down",location:"IAH",responseTime:221}}},E={"data-bs-spy":"scroll","data-bs-target":"#home-nav","data-bs-smooth-scroll":"true",tabindex:"0",class:"min-vh-100"},z={class:"container-xxl mb-5 px-lg-5 px-4 mt-5"},U={key:0},V={key:1},L={class:"card-body"},O={class:"d-flex"},Y={class:"card-title"},M=["href"],N={class:"card-text"},q={class:"ms-auto d-flex align-items-center"},G={class:"ms-2"},J={class:"status-bar mb-3"},K=["title","data-bs-title"],P=S({__name:"StatusView",setup(Q){const T=w({}),f=w(!0),_={},{t:a}=k();B(async()=>{try{T.value=j;for(const s in T.value)_[s]=$(T.value[s].data)}catch(s){console.error("Error fetching status data:",s)}finally{f.value=!1}});function H(s){return(s.reduce((t,e)=>t+e.responseTime,0)/s.length).toFixed(1)}function Z(s){return s==="up"?"bg-success":s==="down"?"bg-danger":s==="no-data"?"bg-secondary":"bg-warning"}function $(s){const l={};return s.forEach(t=>{const e=t.timestamp.split("T")[0];l[e]||(l[e]=[]),l[e].push(t)}),Object.entries(l).map(([t,e])=>{const d=e.some(i=>i.status==="down"),n=e.some(i=>i.status==="up"),b=d&&n?"warn":d?"down":"up",c={};e.forEach(i=>{c[i.location]||(c[i.location]=[]),c[i.location].push(i.responseTime)});const R=Object.entries(c).map(([i,g])=>({location:i,averageResponseTime:(g.reduce((y,D)=>y+D,0)/g.length).toFixed(1)})),x=(e.reduce((i,g)=>i+g.responseTime,0)/e.length).toFixed(1);return{date:t,status:b,averageResponseTimes:R,totalAverageResponseTime:x}})}function h(s){var t;const l=(t=s[s.length-1])==null?void 0:t.status;return l==="down"?"down":l==="up"?"up":"warn"}return(s,l)=>(m(),u("div",E,[r("div",z,[r("h1",null,p(o(a)("status.title")),1),f.value?(m(),u("div",U,p(o(a)("status.loading")),1)):(m(),u("div",V,[(m(!0),u(A,null,v(T.value,(t,e)=>{var d;return m(),u("div",{key:e,class:"card mb-3"},[r("div",L,[r("div",O,[r("div",null,[r("h2",Y,[r("a",{href:t.url,target:"_blank"},p(t.name),9,M)]),r("p",N,p(t.description),1)]),r("div",q,[r("span",{class:I({"btn btn-outline-success":h(t.data)==="up","btn btn-outline-danger":h(t.data)==="down","btn btn-outline-warning":h(t.data)==="warn"})},p(o(a)(`status.${h(t.data).toLowerCase()}`)),3),r("span",G,p(o(a)("status.delay"))+": "+p(H(t.data))+" ms",1)])]),r("div",J,[(m(!0),u(A,null,v(Array(90-(((d=_[e])==null?void 0:d.length)||0)).fill(null).concat(_[e]||[]),(n,b)=>(m(),u("a",{key:b,class:I(["placeholder",Z((n==null?void 0:n.status)||"no-data")]),style:{width:"calc((100% / 90) * 2 / 3)",marginRight:"calc((100% / 90) * 1 / 3)"},title:n?`${o(a)("status.date")}: ${n.date}
${o(a)("status.totalAverageResponseTime")}: ${n.totalAverageResponseTime} ms
`+n.averageResponseTimes.map(c=>`${o(a)("status.location")}: ${c.location}, ${o(a)("status.delay")}: ${c.averageResponseTime} ms`).join(`
`):o(a)("status.noData"),"data-bs-placement":"top","data-bs-toggle":"tooltip","data-bs-title":n?`${o(a)("status.date")}: ${n.date}
${o(a)("status.totalAverageResponseTime")}: ${n.totalAverageResponseTime} ms
`+n.averageResponseTimes.map(c=>`${o(a)("status.location")}: ${c.location}, ${o(a)("status.delay")}: ${c.averageResponseTime} ms`).join(`
`):o(a)("status.noData")},null,10,K))),128))])])])}),128))]))])]))}}),X=C(P,[["__scopeId","data-v-5c1ebf00"]]);export{X as default};
